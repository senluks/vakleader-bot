<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–í–ê–ö–õ–ò–î–ï–† ‚Äî –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏ –∑–∞ 16 —á–∞—Å–æ–≤</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: #f8fafc;
      margin: 0;
      padding: 16px;
      color: #2d3748;
    }
    .container {
      max-width: 500px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 24px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
      border: 1px solid #edf2f7;
    }
    .logo {
      text-align: center;
      margin-bottom: 20px;
    }
    .logo h1 {
      font-size: 26px;
      margin: 0;
      color: #179CDE;
      font-weight: 700;
    }
    .tagline {
      text-align: center;
      color: #e63946;
      font-weight: bold;
      font-size: 19px;
      margin: 10px 0 24px;
      line-height: 1.3;
    }
    .promo {
      background: #fff8e1;
      border: 1px solid #ffd54f;
      border-radius: 12px;
      padding: 14px;
      margin: 16px 0 24px;
      font-weight: 600;
      color: #5d4037;
      text-align: center;
      box-shadow: 0 2px 4px rgba(255,193,7,0.2);
    }
    .promo strong {
      color: #d35400;
    }
    label {
      display: block;
      margin: 16px 0 8px;
      font-weight: 600;
      color: #2d3748;
      font-size: 15px;
    }
    select, input, textarea {
      width: 100%;
      padding: 14px;
      border: 1px solid #cbd5e0;
      border-radius: 12px;
      font-size: 16px;
      box-sizing: border-box;
      background: #fafafa;
      transition: border-color 0.2s;
    }
    textarea {
      min-height: 100px;
      resize: vertical;
    }
    select:focus, input:focus, textarea:focus {
      outline: none;
      border-color: #179CDE;
      background: white;
    }
    button {
      background: #179CDE;
      color: white;
      border: none;
      border-radius: 12px;
      padding: 16px;
      width: 100%;
      font-size: 17px;
      font-weight: 600;
      margin: 20px 0;
      box-shadow: 0 4px 6px rgba(23, 156, 222, 0.25);
      transition: background 0.2s, transform 0.1s;
    }
    button:active {
      transform: scale(0.98);
    }
    #result {
      text-align: center;
      font-size: 20px;
      font-weight: 700;
      color: #179CDE;
      margin: 20px 0;
      min-height: 28px;
    }
    .file-info {
      font-size: 13px;
      color: #64748b;
      margin-top: 6px;
    }
    .footer-note {
      font-size: 12px;
      color: #718096;
      text-align: center;
      margin-top: 20px;
      line-height: 1.4;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <h1>–í–ê–ö–õ–ò–î–ï–†</h1>
    </div>
    <div class="tagline">–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –í–ê–ö / –†–ò–ù–¶<br>–∑–∞ 16 —á–∞—Å–æ–≤*</div>

    <div class="promo">
      üéÅ –ù–∞ <strong>–∫–∞–∂–¥—É—é —Ç—Ä–µ—Ç—å—é —Å—Ç–∞—Ç—å—é</strong> ‚Äî<br><strong>—Å–∫–∏–¥–∫–∞ 50%!</strong>
    </div>

    <label>–ì–¥–µ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å?</label>
    <select id="journal">
      <option>–ñ—É—Ä–Ω–∞–ª –í–ê–ö –†–§</option>
      <option>–ñ—É—Ä–Ω–∞–ª –†–ò–ù–¶</option>
    </select>

    <label>–û–±—ä—ë–º —Å—Ç–∞—Ç—å–∏ (—Å—Ç—Ä–∞–Ω–∏—Ü)</label>
    <input type="number" id="pages" min="5" value="15" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 15">

    <label>–°—Ä–æ–∫–∏</label>
    <select id="urgency">
      <option>–≠–∫—Å–ø—Ä–µ—Å—Å (16 —á–∞—Å–æ–≤)</option>
      <option>–°—Ç–∞–Ω–¥–∞—Ä—Ç (7‚Äì14 –¥–Ω–µ–π)</option>
    </select>

    <button onclick="showPrice()">–£–∑–Ω–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</button>
    <div id="result"></div>

    <h2 style="font-size: 19px; margin: 28px 0 16px; font-weight: 600; color: #2d3748;">–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</h2>
    
    <label>–§–ò–û *</label>
    <input type="text" id="fullname" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>

    <label>Email *</label>
    <input type="email" id="email" placeholder="ivan@example.com" required>

    <label>–¢–µ–ª–µ—Ñ–æ–Ω</label>
    <input type="tel" id="phone" placeholder="+7 (999) 123-45-67">

    <label>–¢–µ–º–∞ *</label>
    <input type="text" id="subject" placeholder="–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—å–∏ –ø–æ —ç–∫–æ–Ω–æ–º–∏–∫–µ" required>

    <label>–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ *</label>
    <textarea id="message" placeholder="–û–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ç–µ–º—É —Å—Ç–∞—Ç—å–∏, –æ–±—ä—ë–º, —Å—Ä–æ—á–Ω–æ—Å—Ç—å –∏ –¥—Ä—É–≥–∏–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è..."></textarea>

    <label>–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ —Å—Ç–∞—Ç—å—é (–Ω–µ –±–æ–ª–µ–µ 5 –ú–ë)</label>
    <input type="file" id="article" accept=".rtf,.doc,.docx">
    <div class="file-info">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: .rtf, .doc, .docx</div>

    <button onclick="submitForm()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
    <button onclick="Telegram.WebApp.openTelegramLink('https://t.me/vakleader_support')">–ù–∞–ø–∏—Å–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É</button>

    <p class="footer-note">
      * –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã–º –∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—è–º<br>
      –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –¥–æ–≥–æ–≤–æ—Ä, –∞–∫—Ç, —Å—á—ë—Ç. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.
    </p>
  </div>

  <script>
    if (window.Telegram && Telegram.WebApp) {
      Telegram.WebApp.ready();
      Telegram.WebApp.expand();
      Telegram.WebApp.setHeaderColor('#179CDE');
      Telegram.WebApp.setBackgroundColor('#f8fafc');
    }

    function showPrice() {
      const journal = document.getElementById('journal').value;
      const pages = parseInt(document.getElementById('pages').value) || 15;
      const urgency = document.getElementById('urgency').value;

      let base = journal === '–ñ—É—Ä–Ω–∞–ª –í–ê–ö –†–§' ? 12000 : 8000;
      if (urgency === '–≠–∫—Å–ø—Ä–µ—Å—Å (16 —á–∞—Å–æ–≤)') base = Math.round(base * 1.4);

      const price = pages < 10 ? base : base + (pages - 10) * 800;
      document.getElementById('result').innerText = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${price.toLocaleString()} ‚ÇΩ`;
    }

    function submitForm() {
      const fullname = document.getElementById('fullname').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const subject = document.getElementById('subject').value.trim();
      const message = document.getElementById('message').value.trim();
      const articleFile = document.getElementById('article').files[0];

      // –í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
      if (!fullname || !email || !subject || !message) {
        if (window.Telegram && Telegram.WebApp) {
          Telegram.WebApp.showAlert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (*)!');
        } else {
          alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (*)!');
        }
        return;
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        if (window.Telegram && Telegram.WebApp) {
          Telegram.WebApp.showAlert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email!');
        } else {
          alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email!');
        }
        return;
      }

      // –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ñ–∞–π–ª–µ
      let fileNote = '';
      if (articleFile) {
        const maxSize = 5 * 1024 * 1024; // 5 MB
        const validTypes = ['application/rtf', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];
        const fileExtension = articleFile.name.split('.').pop().toLowerCase();
        const validExts = ['rtf', 'doc', 'docx'];

        if (articleFile.size > maxSize) {
          if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.showAlert('–§–∞–π–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 5 –ú–ë!');
          } else {
            alert('–§–∞–π–ª –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–≤—ã—à–∞—Ç—å 5 –ú–ë!');
          }
          return;
        }

        if (!validExts.includes(fileExtension)) {
          if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.showAlert('–†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã: .rtf, .doc, .docx');
          } else {
            alert('–†–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã: .rtf, .doc, .docx');
          }
          return;
        }

        fileNote = `\n\nüìÑ –§–∞–π–ª —Å—Ç–∞—Ç—å–∏ –ø—Ä–∏–∫—Ä–µ–ø–ª—ë–Ω: ${articleFile.name}`;
      } else {
        fileNote = '\n\n‚ö†Ô∏è –°—Ç–∞—Ç—å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –≤ —á–∞—Ç —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º (@vakleader_support), —Ç–∞–∫ –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞.';
      }

      // === –ó–î–ï–°–¨: –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –≤ Google Form ===
      // –ü–æ–∫–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ

      const successMsg = `–°–ø–∞—Å–∏–±–æ, ${fullname}!\n\n–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø—Ä–∏–Ω—è—Ç–∞.\n–¢–µ–º–∞: ${subject}\nEmail: ${email}${phone ? `\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}` : ''}${fileNote}\n\n–ú–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.`;

      if (window.Telegram && Telegram.WebApp) {
        Telegram.WebApp.showAlert(successMsg);
        // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å: Telegram.WebApp.close();
      } else {
        alert(successMsg);
      }

      // –ü–æ–∑–∂–µ: —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ, —á—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å —á–∞—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
      // Telegram.WebApp.openTelegramLink('https://t.me/vakleader_support');
    }
  </script>
</body>
</html>
